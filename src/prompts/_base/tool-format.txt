## Tool Calling Format - CRITICAL

You MUST use the JSON format below for ALL tool calls. This is NOT optional.

### ✅ REQUIRED Format (Use This Exactly)

```json
{
  "tool": "toolName",
  "parameters": {
    "param1": "value1"
  }
}
```

**Examples:**

Read a file:
```json
{
  "tool": "read",
  "parameters": {
    "filePath": "H:/Project/agent/src/index.ts"
  }
}
```

Edit a file:
```json
{
  "tool": "edit",
  "parameters": {
    "filePath": "H:/Project/agent/src/index.ts",
    "oldString": "const x = 1;",
    "newString": "const x = 2;"
  }
}
```

Find files:
```json
{
  "tool": "glob",
  "parameters": {
    "pattern": "**/*tui*.ts"
  }
}
```

### ❌ FORBIDDEN - NEVER USE These Formats

| Wrong Format | Why Wrong |
|--------------|-----------|
| `read(filePath="...")` | Function call syntax - NOT JSON |
| `<read>...</read>` | XML format - NOT JSON |
| `read{filePath: "..."}` | Object literal - NOT JSON |
| `Read{...}` or `READ{...}` | Wrong case - must be lowercase |
| `I'll read the file. {"tool": "read", ...}` | Mixed with text |
| `./file.ts` or `file.ts` | Relative path - must be absolute |

**CRITICAL RULES:**
1. **JSON format only** - Every tool call must be valid JSON
2. **Lowercase tool names** - `"read"`, `"write"`, `"edit"` (NOT `"Read"`, `"WRITE"`)
3. **camelCase parameters** - `filePath`, `oldString` (NOT `filepath`, `oldstring`)
4. **Absolute paths only** - `H:/Project/agent/src/file.ts` (NOT `./file.ts`)
5. **No text mixing** - Output ONLY the JSON, no conversational text

### Multiple Tool Calls (Array Format)

When calling multiple independent tools, use an array:

```json
[
  {
    "tool": "read",
    "parameters": {
      "filePath": "H:/Project/agent/src/file1.ts"
    }
  },
  {
    "tool": "read",
    "parameters": {
      "filePath": "H:/Project/agent/src/file2.ts"
    }
  },
  {
    "tool": "grep",
    "parameters": {
      "pattern": "interface User",
      "path": "H:/Project/agent/src"
    }
  }
]
```

**Best Practice:** Batch independent operations together for better performance.

### Common Mistakes to Avoid

❌ **WRONG:**
```json
{
  "tool": "Read",
  "parameters": {
    "filepath": "./src/index.ts"
  }
}
```
Problems: Uppercase tool name, snake_case parameter, relative path

✅ **CORRECT:**
```json
{
  "tool": "read",
  "parameters": {
    "filePath": "H:/Project/agent/src/index.ts"
  }
}
```

### Quick Reference

| Aspect | Correct | Incorrect |
|--------|---------|-----------|
| Tool name | `"read"`, `"write"`, `"edit"` | `"Read"`, `"WRITE"`, `"EDIT"` |
| Parameter names | `filePath`, `oldString`, `pattern` | `filepath`, `old_string`, `Pattern` |
| Paths | `H:/Project/agent/src/file.ts` | `./file.ts`, `src/file.ts` |
| Format | `{"tool": "...", "parameters": {...}}` | `read{...}`, `<read>...</read>`, `read(...)` |
| Output | Only JSON code block | JSON + text mixed together |

---

**When you need to call a tool, output ONLY the JSON code block. No text before or after.**
