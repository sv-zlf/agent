# 斜杠命令使用指南

GG CODE 支持使用斜杠 (`/`) 开头的命令来快速执行常用操作。

## 启动 GG CODE

```bash
# 启动 AI 编程助手
npm run agent

# 其他选项
npm run agent -- -y          # 自动批准所有工具调用
npm run agent -- -a explore   # 使用只读模式
npm run agent -- -i 20        # 最大迭代 20 次
```

## 可用命令列表

### `/init` - 创建项目设计文件

自动创建或更新项目的设计文档 `DESIGN.md`，包含：

- 项目概述
- 构建/测试命令（从 package.json 提取）
- 代码风格指南
- 项目结构说明
- GG CODE 配置说明
- 开发指南

**使用方法：**
```
> /init
```

**生成的文件位置：** `<项目根目录>/DESIGN.md`

### `/models` - 模型管理

查看可用模型列表或切换当前使用的模型。

**查看可用模型：**
```
> /models
```

**切换模型：**
```
> /models claude-3-5-sonnet-20241022
```

**常用模型名称：**
- `claude-3-5-sonnet-20241022` - Claude 3.5 Sonnet (推荐)
- `claude-3-opus-20240229` - Claude 3 Opus
- `gpt-4o` - GPT-4o
- `gpt-4o-mini` - GPT-4o Mini (快速)
- `deepseek-chat` - DeepSeek Chat

**注意：** 切换模型会更新 `.ggrc.json` 配置文件，并立即生效。

### `/help` - 显示帮助信息

显示所有可用命令的简要说明。

**使用方法：**
```
> /help
```

## 命令格式

斜杠命令的基本格式：

```
/<命令名> [参数]
```

- 命令必须以 `/` 开头
- 命令名和参数之间用空格分隔
- 参数是可选的（部分命令需要参数）

## 与普通命令的区别

### 斜杠命令（/开头）
- `/init`
- `/models gpt-4o`
- `/help`

### 普通命令
- `exit`
- `clear`
- `tools`

**主要区别：**
- 斜杠命令会立即执行，不会发送给 AI
- 普通命令会作为对话的一部分发送给 AI

## 使用示例

### 示例 1：初始化项目

```
> /init

📝 执行命令: /init

✓ 已创建项目设计文件: H:\Project\agent\DESIGN.md

包含以下内容:
  • 项目概述
  • 构建/测试命令
  • 代码风格指南
  • 项目结构说明

> [继续输入你的问题]
```

### 示例 2：查看可用模型

```
> /models

📝 执行命令: /models

📋 可用模型列表:

当前模型: claude-3-5-sonnet-20241022

模型名称              提供商        描述
────────────────────────────────────────────────────────────────
→ claude-3-5-sonnet-20241022  Anthropic    Claude 3.5 Sonnet (推荐)
  claude-3-opus-20240229      Anthropic    Claude 3 Opus
  gpt-4o                     OpenAI       GPT-4o
  gpt-4o-mini                OpenAI       GPT-4o Mini (快速)
  deepseek-chat              DeepSeek     DeepSeek Chat

使用方法:
  /models <模型名称>    # 切换到指定模型

> [继续输入你的问题]
```

### 示例 3：切换模型

```
> /models gpt-4o-mini

📝 执行命令: /models

✓ 已切换模型:
  从: claude-3-5-sonnet-20241022
  到: gpt-4o-mini

> [继续输入你的问题]
```

### 示例 4：显示帮助

```
> /help

📝 执行命令: /help

📖 可用命令:

/init
  创建/更新项目设计文件 (DESIGN.md)

/models
  列出可用模型或切换模型

/help
  显示帮助信息

使用方法: 在提示符后输入 /命令名 [参数]

> [继续输入你的问题]
```

## 注意事项

1. **命令立即执行**：斜杠命令不会发送给 AI，而是在本地立即执行

2. **参数格式**：模型名称不需要引号，直接输入名称即可

3. **配置持久化**：使用 `/models` 切换模型会更新配置文件，下次启动时保持该设置

4. **文件覆盖**：`/init` 命令会覆盖已存在的 `DESIGN.md` 文件

5. **中断操作**：命令执行期间可以按 `P` 键中断（虽然大多数命令执行很快）

## 高级用法

### 在对话中使用命令

你可以在对话的任何时候使用斜杠命令：

```
> 帮我重构这个组件
[AI 响应...]
> /init
[执行 /init 命令...]
> /models gpt-4o
[切换到 gpt-4o 模型...]
> 继续刚才的重构任务
[AI 使用新模型继续工作...]
```

### 链式操作

某些命令执行后会自动回到输入提示符，你可以继续执行其他命令：

```
> /init
[执行完成，回到提示符]
> /models
[查看模型列表]
> /models gpt-4o
[切换模型]
> [开始正常对话]
```

## 故障排除

### 命令不执行

如果斜杠命令没有执行，检查：

1. 确保命令以 `/` 开头，没有前导空格
2. 确保命令名拼写正确
3. 查看控制台是否有错误信息

### 模型切换失败

如果 `/models` 命令失败：

1. 确保模型名称正确（使用 `/models` 查看可用列表）
2. 检查 `.ggrc.json` 文件是否存在
3. 确保你有写入配置文件的权限

### DESIGN.md 生成问题

如果 `/init` 命令生成的文件不完整：

1. 确保你在项目根目录执行命令
2. 检查是否有读取文件的权限
3. 某些项目可能没有 `package.json`，这是正常的

## 相关文档

- [README.md](./README.md) - GG CODE 主文档
- [AGENT_GUIDE.md](./AGENT_GUIDE.md) - Agent 使用指南
- [CONFIG.md](./CONFIG.md) - 配置文件说明
